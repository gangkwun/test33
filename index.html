<!DOCTYPE html>
<!--//1. ì–¸ì–´ë¥¼ í•œê¸€ë¡œ ë°”ê¿”ì£¼ì.-->
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="ë‚˜ì™€ ë‹®ì€ ì—°ì˜ˆì¸ ì°¾ê¸°!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:description" content="ë‹¹ì‹ ê³¼ ë‹®ì€ ì—°ì˜ˆì¸ì€ ëˆ„êµ¬ì¼ê¹Œìš”? ì§€ê¸ˆ í™•ì¸í•´ë³´ì„¸ìš”!">
    <title>ë‚˜ì™€ ë‹®ì€ ì—°ì˜ˆì¸ ì°¾ê¸°</title>
    <link rel = "stylesheet" href="src/style.css">
</head>



<body>
    <!--//3. ë°±ê·¸ë¼ìš´ë“œ ë¹„ë””ì˜¤ ì‹œì‘.-->
    <div class="video-background">
        <div class="video-forground">
            <!--//4. ìœ íŠœë¸Œ ì†ŒìŠ¤ ì½”ë“œ ë¶™ì´ê¸°-->
            <!--//4.1 ë†’ì´ì™€ ë„“ì´ë¥¼ 100%ë¡œ ìˆ˜ì •í•˜ì.-->
            <!--//4.2 ? ë’¤ì— ì˜µì…˜ì„ ë„£ì–´ ë™ì˜ìƒì„ í”Œë ˆì´ì‹œì¼œ ë³´ì. -->
       
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/wILprXL47sM" title="ğŸŒŠì‹œì›í•œ ì—¬ë¦„ì„ ìœ„í•œ ê°ê°ì ì¸ ë‰´ì—ì´ì§€ ì—°ì£¼ê³¡" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
    </div>
    
    <!--//5. ë©”ì¸ cont ì¶”ê°€-->
    <div class="cont-main">
        <div class="tit">
            ë‚˜ì™€ ë‹®ì€ ì—°ì˜ˆì¸ ì°¾ê¸°
            <!--//6. assetsì˜ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°-->
        </div>
            <div class="img-slide">
                <img class="img-slide-item active" src="assets/1.png" alt="ì´ë¯¸ì§€">
                <img class="img-slide-item" src="assets/2.png" alt="ì´ë¯¸ì§€">
                <img class="img-slide-item" src="assets/3.png" alt="ì´ë¯¸ì§€">
                <img class="img-slide-item" src="assets/4.png" alt="ì´ë¯¸ì§€">
                <img class="img-slide-item" src="assets/5.png" alt="ì´ë¯¸ì§€">
                <img class="img-slide-item" src="assets/6.png" alt="ì´ë¯¸ì§€">
            </div>
            <!--//7. ë²„íŠ¼ í´ë˜ìŠ¤ ì§€ì •-->
            <button type="button"  onclick="init()" class="btn-test-start">í…ŒìŠ¤íŠ¸ ì‹œì‘!</button>
    </div>

    <!--//8. ë‚´ì–¼êµ´ ì¸ì‹í•˜ê¸° ë° ê²°ê³¼ë³´ê¸° ë²„íŠ¼ ì¶”ê°€-->
    <div class="cont">
       <div class="tit">ë‚´ ì–¼êµ´ ì¸ì‹í•˜ê¸°</div>
       <div id="webcam-container"></div>
       <button type="button" class="btn-start">ê²°ê³¼ ë³´ê¸°</button>
    </div>

    <!--//9. gif ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°-->
    <div class="cover">
        <img src="assets/loading.gif" alt="">
    </div>


<!--//10. myScript.js íŒŒì¼ì¶”ê°€ ë° ì½”ë“œ ì¶”ê°€-->
<script src="src/myScript.js"></script>
<div id="webcam-container"></div>
<div id="label-container"></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
<script type="text/javascript">


            //11. ê²°ê³¼ê°’ì„ ë„£ê¸°ìœ„í•œ ë³€ìˆ˜ ìƒì„±
            let result;
            //12. ë²„íŠ¼ ì´ë²¤íŠ¸ë¥¼ ìœ„í•œ domì„ íƒ
            let btn = document.querySelector(".btn-start");


    // More API functions here:
    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image

    // the link to your model provided by Teachable Machine export panel
    const URL = "./my_model/";

    let model, webcam, labelContainer, maxPredictions;

    // Load the image model and setup the webcam
    async function init() {
        const modelURL = URL + "model.json";
        const metadataURL = URL + "metadata.json";

        // load the model and metadata
        // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
        // or files from your local hard drive
        // Note: the pose library adds "tmImage" object to your window (window.tmImage)
        model = await tmImage.load(modelURL, metadataURL);
        maxPredictions = model.getTotalClasses();

        // Convenience function to setup a webcam
        const flip = true; // whether to flip the webcam

        //13. ì›¹ìº  í¬ê¸° ì¡°ì •
        webcam = new tmImage.Webcam(390, 390, flip); // width, height, flip


        await webcam.setup(); // request access to the webcam
        await webcam.play();

        //14. ëª¨ë¸ ë¡œë”© ë¶€ë¶„ ì—†ì• ê¸°
         cover.style.display = "none"

        window.requestAnimationFrame(loop);

        // append elements to the DOM
        document.getElementById("webcam-container").appendChild(webcam.canvas);
        labelContainer = document.getElementById("label-container");

        //14. ë¶ˆí•„ìš”í•œ forë¬¸ ì‚­ì œ
        /*for (let i = 0; i < maxPredictions; i++) { // and class labels
            labelContainer.appendChild(document.createElement("div"));
        }*/
    }

    async function loop() {
        webcam.update(); // update the webcam frame
        await predict();
        window.requestAnimationFrame(loop);
    }

    // run the webcam image through the image model


    async function predict() {
        // predict can take in an image, video or canvas html element
        const prediction = await model.predict(webcam.canvas);
           /* if (prediction[0].className == 'ë…¸ë§ˆìŠ¤í¬' && prediction[0].probability.toFixed(2) > 0.60) {
                window.location.href = "./ë…¸ë§ˆìŠ¤í¬.html";
            } else if (prediction[1].className == 'ë§ˆìŠ¤í¬' && prediction[1].probability.toFixed(2) > 0.60) {
                window.location.href = "./ë§ˆìŠ¤í¬.html";
            } else if (prediction[2].className == 'ê°€ìœ„' && prediction[2].probability.toFixed(2) > 0.60) {
                window.location.href = "./ê°€ìœ„.html";
            } else if (prediction[3].className == 'ë°”ìœ„' && prediction[3].probability.toFixed(2) > 0.60) {
                window.location.href = "./ë°”ìœ„.html";
            } else if (prediction[4].className == 'ë³´' && prediction[4].probability.toFixed(2) > 0.60) {
                window.location.href = "./ë³´.html";
            } else {
                window.location.href = "./fail.html";
            } */

          
           /* if (prediction[0].className == 'ìœ ì¬ì„' && prediction[0].probability.toFixed(2) > 0.60) {
                window.location.href = "./ìœ ì¬ì„.html";
            } else if (prediction[1].className == 'ê°•í˜¸ë™' && prediction[1].probability.toFixed(2) > 0.60) {
                window.location.href = "./ê°•í˜¸ë™.html";
            } else if (prediction[2].className == 'ê³µìœ ' && prediction[2].probability.toFixed(2) > 0.60) {
                window.location.href = "./ê³µìœ .html";
            } else if (prediction[3].className == 'ê°•ê¶Œ' && prediction[3].probability.toFixed(2) > 0.60) {
                window.location.href = "./ê°•ê¶Œ.html";
            } 
            else {
                window.location.href = "./fail.html";
            }*/

            // 15. ê°€ì¥ ì¼ì¹˜í•˜ëŠ” ê²°ê³¼ë¡œ ë‚´ë¦¼ì°¨ìˆœí•˜ëŠ” ë¶€ë¶„
            prediction.sort((a,b)=> (b.probability-a.probability))
            // ê°€ì¥ ì¼ì¹˜ë„ê°€ ë†’ê²Œ ë‚˜ì˜¨ classNameì„ resultì— ë„£ì–´ì¤€ë‹¤
            result = prediction[0].className

            //16. ê²°ê³¼ ì¶œë ¥í•˜ê¸° ê²°ê³¼ê°’ê³¼ ì¼ì¹˜í•˜ëŠ” htmlíŒŒì¼ë¡œ ì´ë™ë©ë‹ˆë‹¤!
            btn.addEventListener("click", function() {
            window.location.href = `./${result}.html`;
            });
    }
</script>

</body>
</html>
